!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CS_dashboard=n()}}(function(){return function n(t,e,o){function i(r,c){if(!e[r]){if(!t[r]){var d="function"==typeof require&&require;if(!c&&d)return d(r,!0);if(s)return s(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var u=e[r]={exports:{}};t[r][0].call(u.exports,function(n){var e=t[r][1][n];return i(e?e:n)},u,u.exports,n,t,e,o)}return e[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(n,t,e){window.csAdmin.l18n=function(n){return csAdmin.strings[n]||""},"true"==csAdmin.isSettingsPage&&jQuery(document).ready(n("./settings-page")),"true"==csAdmin.isPostEditor&&jQuery(window).ready(n("./post-editor"))},{"./post-editor":3,"./settings-page":4}],2:[function(n,t,e){t.exports=function(n,t,e,o,i){$overlay=jQuery('<div class="cs-admin-confirm-outer"><div class="cs-admin-confirm-inner"><div class="cs-admin-confirm-content"><p class="cs-admin-confirm-message">'+t+'</p><div class="cs-admin-confirm-actions"><button class="nope">'+csAdmin.l18n("confirm-nope")+'</button><button class="yep '+n+'">'+csAdmin.l18n("confirm-yep")+"</span></button></div></div></div></div>"),$overlay.find(".cs-admin-confirm-actions button").on("click",function(n){if($overlay.remove(),_.isFunction(e)&&jQuery(this).hasClass("yep")){var t=t||this,o=o||[];e.apply(t,o)}}),jQuery("body").append($overlay)}},{}],3:[function(n,t,e){t.exports=function(t){var e,o,i,s=n("./confirm");e=t(csAdmin.editorTabMarkup),o=t("#postdivrich"),o.after(e),i=t('<button type="button" id="content-cornerstone" class="wp-switch-editor switch-cornerstone">'+csAdmin.l18n("cornerstone-tab")+"</button>"),o.find(".wp-editor-tabs").append(i);var r=function(){o.hide(),e.show();var n=function(){t(".composer-switch").css({visibility:"hidden"})};_.defer(n),jQuery(window).on("load",n)},c=function(n){o.show(),t(window).trigger("scroll.editor-expand","scroll"),e.hide(),t(".composer-switch").css({visibility:"visible"}),switchEditors.switchto(n)};e.find("#content-tmce, #content-html").click(function(){var n=this;return"true"==csAdmin.usesCornerstone?void s("error",csAdmin.l18n("manual-edit-warning"),function(){"new"!=csAdmin.post_id&&wp.ajax.post("cs_override",{post_id:csAdmin.post_id}),csAdmin.usesCornerstone="false",c(n)}):void c(n)}),i.click(function(){return"false"==csAdmin.usesCornerstone&&"new"!=csAdmin.post_id&&""!=wp.autosave.getPostData().content?void s("error",csAdmin.l18n("overwrite-warning"),function(){csAdmin.usesCornerstone="none",r()}):void r()}),"true"==csAdmin.usesCornerstone&&r(),e.find("#cs-edit-button").on("click",function(n){if(n.preventDefault(),n.stopPropagation(),null!=csAdmin.editURL)return void(window.location=csAdmin.editURL);t("#title-prompt-text").hide();var e=t("#title"),o=e.val();o&&""!=o&&"title"!=o||e.val(csAdmin.l18n("default-title")),wp.autosave.server.triggerSave(),t(document).on("heartbeat-tick.autosave",function(n,e){var e=wp.autosave.getPostData(),o="?page_id=";"post"==e.post_type&&(o="?p="),"post"!=e.post_type&&"page"!=e.post_type&&(o="?post_type="+e.post_type+"&p="),t(window).off("beforeunload.edit-post"),window.location=csAdmin.homeURL+o+e.post_id+"&preview=true&cornerstone=1"})})}},{"./confirm":2}],4:[function(n,t,e){t.exports=function(n){n(document).ready(function(){n(".accordion > .toggle").click(function(){return n(this).hasClass("active")?void n(this).removeClass("active").next().slideUp():(n(".accordion > .panel").slideUp(),n(this).siblings().removeClass("active"),void n(this).addClass("active").next().slideDown())}),n("#submit").click(function(){n(this).addClass("saving").val(csAdmin.l18n("updating"))}),postboxes.add_postbox_toggles(pagenow),n(".wp-color-picker").wpColorPicker(),n("a.wp-color-result").each(function(){n(this).attr("title",n(".wp-color-picker.cs-picker",n(this).parent()).data("title"))})})}},{}],backbone:[function(n,t,e){t.exports=window.Backbone},{}],jquery:[function(n,t,e){t.exports=window.jQuery},{}],underscore:[function(n,t,e){t.exports=window._},{}]},{},[1])("underscore")});